FROM ghcr.io/pterodactyl/development/base

ENV DEBIAN_FRONTEND=noninteractive \
	NOTVISIBLE="in users profile"

RUN curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - \
	&& sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" \
	&& sudo add-apt-repository ppa:longsleep/golang-backports \
	&& sudo apt -y update \
	&& sudo apt -y --no-install-recommends install golang-go tar zip unzip make gcc g++ docker-ce-cli \
	&& sudo rm -rf /var/lib/apt/lists/*

EXPOSE 22

ENTRYPOINT sudo su -c "service ssh start && /bin/bash"